\chapter{Developing an experimental setup for measuring the performance and
near-wake of cross-flow turbines at large laboratory scale}

The first objective was to acquire high-fidelity experimental data to get a
clear picture of what it is we were trying to predict. We were looking to
acquire both performance data (mechanical power, drag force) and velocity data
in the near-wake. To do this, it was necessary to upgrade the UNH tow tank's
linear motion, control, and data acquisition systems, along with the turbine
test bed instrumentation developed in \cite{Bachant2011-MS}.


\section{Modifications to the UNH tow tank}

\begin{table}
\centering
\begin{tabular}{c|c|c}
Spec & Old system & Target \\ 
\hline
Maximum speed & 1.4 m/s  & 3.0 m/s \\ 
Maximum acceleration & 0.1 m/s$^2$ & 2.0 m/s$^2$ \\ 
Control system & Open loop velocity only & Closed loop position \\ 
On-board power & $4\times12$ V batteries & Continuous 120 and 220 VAC \\ 
\end{tabular}
\caption{Specifications summary for existing and upgraded tow tank systems.} 
\label{tab:tow-tank-specs}
\end{table}

\subsection{Linear guides}

The previous linear guide system consisted of a ``master'' guide constructed from
$4 \times 4$ inch fiberglass tubing, and a ``slave'' guide constructed from aluminum angle, on which plastic wheels rode. Over time, the fiberglass tubing had failed structurally and was covered with stainless steel bars fixed with double-sided tape. These bars shifted around considerably during towing and were a source of noise.

A new set of linear guides was designed from 1.25 inch diameter Thomson 440C
stainless steel linear shafts and super self-aligning linear bearings. The
existing carriage was modified to retrofit the linear bearings, and a series of
parts were designed to adapt the stainless shafts to the existing quasi-level
mounting surfaces, which helped keep cost down.

\subsection{Motion and control}

The tow tank's previous motion system consisted of a 10 horsepower AC induction
motor powered by a Yaskawa V7 variable frequency drive. The motor was coupled to
a speed reducing gearbox, on which a pulley was mounted to drive a 0.25 inch
diameter wire rope. It was seen in previous testing that this system had very
low acceleration ($\sim 0.1$ m/s$^2$), which severely reduced steady state
towing durations. The relatively low spring constant of the wire rope tow member
also gave the system a low natural frequency, which resonated due to cross-flow
turbines' cycling forcing. Furthermore, the system was only velocity-controlled,
and in an open-loop manner. This meant positioning was done manually, which took
a skilled operator, and reduced usable tank length further to allow for
coasting to a stop.

These issues were addressed by changing the motor to a permanent magnet servo
motor, sized to tow turbines with 1 m$^2$ frontal area up to 3 m/s, while
accelerating at 2 m/s$^2$. The motor was powered by a Kollmorgen S700 servo
drive, controlled by an ACS NTM EtherCAT master controller, providing closed
loop position (and velocity) control. A series of emergency stop buttons were
installed to dramatically increase the safety of the system.

A steel-reinforced polyurethane timing belt was chosen as the new drive member.
The most robust timing belt profile---an ATL20---was chosen for maximum
stiffness per unit width, increasing the drive member spring constant roughly by a
factor of 7.


%%% From RM2 test plan %%%

Experiments will be performed in the UNH tow/wave tank, a 36 m long facility
with a 3.66 m wide by 2.44 m deep cross-section, capable of tow speeds up to 3
m/s\footnote{Note that though 3 m/s is the technical limit, the practical limit
    for achieving substantial tow durations is approximately 2 m/s.}, pictured in
Figure~\ref{fig:tow-tank}. The turbine will be mounted in a frame built from
NACA 0020 struts, attached to the tow carriage by four linear bearings, which
transfer all streamwise force to a pair of S-beam load cells. The turbine shaft
RPM will be controlled by a servo motor system, which allows prescription of the
turbine tip speed ratio. The load torque will be measured by an inline rotary
torque transducer and a load cell mounted at a fixed distance from the servo
motor, providing a redundant measurement. Turbine shaft angle will be measured
using the servo drive's emulated encoder output, set to $10^5$ counts per
turbine shaft revolution. Carriage speed, and therefore inflow velocity will be
measured using a linear encoder with 10 $\mu$m resolution. All of these
performance-related quantities will be sampled as 2 kHz, while the tow tank's
motion controller will provide redundant measurements of the carriage speed and
turbine angular velocity sampled at 1 kHz. Turbine wake measurements at 1
turbine diameter downstream will be measured with a Nortek Vectrino+ acoustic
Doppler velocimeter, sampling at 200 Hz. A list of the sensors to be used in the
experiment is shown in Table~\ref{tab:sensors}, instrumentation in
Table~\ref{tab:instrumentation}, and a drawing of the experimental setup is
shown in Figure~\ref{fig:exp-setup}.


\begin{figure}[ht!]
    \centering 
%    \includegraphics[clip,trim=0 0.4in 0 0.37in, 
%    width=0.49\textwidth]{Figures/tow_tank_length} 
%    \includegraphics[clip,trim=0.67in 0 0 0, 
%    width=0.49\textwidth]{Figures/test_bed_photo} 
    \caption{Photos of the UNH towing tank and turbine test bed.} 
    \label{fig:tow-tank}
\end{figure}


\begin{table}[ht]
    \centering
    \begin{tabular}{c|c|c|c}
        Measured quantity & Device type & Mfg. \& model & Nominal accuracy \\
        \hline 
        Carriage position & Linear encoder & Renishaw LM15 & 10 $\mu$m/pulse \cite{RenishawLM15}\\
        Turbine angle & Servo encoder output & Kollmorgen AKD & 10$^5$ pulse/rev \cite{KollmorgenAKD}\\
        Turbine torque & Rotary transducer & Interface T8-200 & $\pm$0.5 Nm \cite{InterfaceT8}\\ 
        Turbine torque (2) & Load cell (\& arm) & Sentran ZB3-200 & $\pm$0.2 Nm \cite{SentranZB}\\
        Drag force, left & Load cell & Sentran ZB3-500 & $\pm$0.6 N \cite{SentranZB}\\
        Drag force, right & Load cell & Sentran ZB3-500 & $\pm$0.6 N \cite{SentranZB}\\
        Fluid velocity & ADV & Nortek Vectrino+ & $\pm$0.5\% $\pm$1 mm/s \cite{NortekVectrino}\\
    \end{tabular}
    \caption{Details of the sensors to be used for the experiment. Note that ``(2)''
        denotes a secondary redundant measurement. ``Turbine torque (2)'' nominal
        accuracy estimated by combining load cell accuracy and arm machining tolerances
        ($\pm 1 \times 10^{-4}$ m) as root-sum-square.} \label{tab:sensors}
\end{table}

\begin{table}[ht]
    \centering
    \begin{tabular}{c|c|c}
        Measured quantity & Device type & Mfg. \& model \\
        \hline 
        Carriage position & Differential counter & NI 9411 \\
        Carriage velocity (2) & Motion controller & ACS NTM \\
        Turbine angle & Differential counter & NI 9411 \\
        Turbine RPM (2) & Motion controller & ACS NTM \\
        Turbine torque & Analog voltage input & NI 9405 \\ 
        Turbine torque (2) & Analog bridge input & NI 9237 \\
        Drag force, left & Analog bridge input & NI 9237 \\
        Drag force, right & Analog bridge input & NI 9237 \\
    \end{tabular}
    \caption{Details of the instrumentation to be used for the experiment. Note that
        ``(2)'' denotes a secondary redundant measurement.}
    \label{tab:instrumentation}
\end{table}

\begin{figure}[ht]
    \centering
%    \includegraphics[clip,trim=0.01in 0 0 0, width=0.95\textwidth]{Figures/tank_cross_section}
    \caption{Illustration of the experimental setup.}
    \label{fig:exp-setup}
\end{figure}


\subsection{Calibrations}

Before collecting data, traceable calibration certificates will be obtained for
the Interface T8-200 torque transducer and NI 9405 and NI 9237 modules. The
torque transducer calibration will be used directly in data processing, while
the drag measurement load cells will be calibrated using an additional Sentran
ZB S-beam load cell and indicator, a package which will also have its own
calibration certificate. This load cell will be mounted to a fixture that allows
varying load on each drag load cell---while the linear bearings are
installed---by a lead screw.  The redundant torque measurement load cell/arm
system will be calibrated in a similar fashion using the Sentran load cell and
indicator, by attaching it to a fixture with a distance from the axis of
rotation known to within approximately 0.005 inches.

\subsection{Synchronization of instrumentation subsystems}

The three data acquisition instrumentation subsystems---motion controller, NI
DAQ (performance measurements), and Vectrino+ (wake velocity
measurements)---will begin sampling at precisely the same time each run, after
being triggered by a TTL pulse created by the motion controller. This strategy
retains synchronization for all performance signal samples (tow speed, torque,
drag, angular velocity), ensuring precise calculation of, e.g., power
coefficient. Since there is also synchronization of the initial sample from each
three subsystems, correlation of events in the performance and wake signals is
also possible.

\subsection{Tare drag and torque compensation} 

Tare torque and drag runs will also be performed to measure the shaft bearing
friction torque and turbine mounting frame drag, respectively. These data will
be similar to the turbine performance data, omitting torque measurements for the
tare drag runs and vice versa. Tare drag runs will be performed for each tow
speed in the experiment, for which the mean value is used in data processing.
Tare torque runs will be performed by rotating the turbine shaft (without
blades) in air at constant angular velocity for a specified duration, over the
range of angular velocities used throughout the experiment. Tare torque will
then be fit with a linear regression versus shaft angular velocity, and added to
the measured turbine torque in post-processing.

%%% End section from RM2


\subsection{Data acquisition and on-board accessories}


\section{Upgraded turbine test bed}


\subsection{Wake measurement system}


\subsection{Software}

Software was developed to automate the entire turbine testing process. Dubbed
\textit{TurbineDAQ}, the desktop application was written in Python due to its
reputation as a good ``glue'' language for systems integration. The graphical
user interface (GUI) was built using the PyQt bindings to the Qt framework.
Communication with the tow tank's motion controller, data acquisition system,
and ADV were integrated into a single application. This combined with the
ability to load and automatically execute test matrices in comma-separated value
(CSV) format allowed for experiments consisting of thousands of tows, where the
previous generation could only realistically achieve around 100.


\section{Determining tank settling time}

Sample tows will be done to determine the amount of time taken between runs such
that the tank has settled adequately, i.e., background turbulence and any large
scale mean flows have been dissipated. This will be assessed by towing the
turbine, then allowing the Vectrino to continue recording velocity data,
monitoring the mean and standard deviation of the signals. The settling times
will be stored in the experiment configuration---one value for each tow speed.


\section{Turbine models}

Two physical turbine models were designed and built.

\subsection{UNH-RVAT}

A primary goal for the UNH-RVAT was geometric simplicity, for the sake of
replication in numerical models. The turbine was model constructed from straight
14 cm chord length NACA 0020 extrusions, used for both the blades and struts.
Blades were mounted at mid-chord and mid-span, having a length of 1 m and placed
at 1 m diameter.

% Below from JoT paper

The turbine model was designed to be geometrically simple, in the spirit of, but
not identical to the Sandia/DOE Reference Model 2 (RM2) CFT \cite{Neary2013,
    Barone2011}. Compared to the full-scale Sandia/DOE RM2, it would be
approximately a 1:6 scale model, albeit with higher solidity, or chord-to-radius
ratio. The turbine rotor is $H=1$ m tall, has a $D=1$ m diameter and was
constructed from three NACA 0020 section blades with constant $c=0.14$ m chord
length, mounted at half-chord and half-span with zero preset blade pitch. The
support struts are also NACA 0020 sections with 0.14 m chord length, and these
are fixed to a $0.095$ m diameter shaft. A sketch of the turbine rotor is shown
in Figure~\ref{fig:expsetup} and CAD models are available from
\cite{Bachant2014-RVAT-CAD}.


\subsection{DOE/SNL RM2}

The turbine is to be a 1:6 scale model of the RM2 rotor. Turbine geometry is to
be scaled from the RM2 ``rev 0'' design report \cite{Barone2011}, with the
exception of the shaft diameter, which will be a scaled version of the SAFL RM2
shaft \cite{Hill2014}. The hub design is also similar to the SAFL model, which
may aid in comparison of the results, though this is not a top priority.
Geometric parameters are shown in Table~\ref{tab:turb-geom} and a drawing of the
turbine design is shown in Figure~\ref{fig:RM2-drawing}. The turbine model
components---blades, struts, shaft, and center hub sections---will be fabricated
from 6061-T6 aluminum, which will be hardcoat anodized per MIL-8625-A, type III,
class 2 specifications.

\begin{table}[ht]
    \centering
    \begin{tabular}{l|l|l}
        & Full-scale & Model (1:6) \\
        \hline 
        Diameter (m)   & 6.450 & 1.075 \\ 
        Height (m)     & 4.840 & 0.8067 \\ 
        Blade root chord (m) & 0.4000 & 0.06667 \\ 
        Blade tip chord (m)  & 0.2400 & 0.04000 \\ 
        Blade profile & NACA 0021 & NACA 0021 \\ 
        Blade mount & 1/2 chord & 1/2 chord \\ 
        Blade pitch (deg.) & 0.0 & 0.0 \\ 
        Strut profile & NACA 0021 & NACA 0021 \\ 
        Strut chord (m) & 0.3600 & 0.06000 \\ 
        Shaft diameter (m) & 0.2540 \cite{Beam2011} or 0.4160 \cite{Hill2014} & 0.06350\\ 
    \end{tabular}
    \caption{RM2 turbine geometric parameters.}
    \label{tab:turb-geom}
\end{table}

\begin{figure}[ht]
    \centering
%    \includegraphics[width=0.5\textwidth]{Figures/turbine}
    \caption{Illustration of the UNH RM2 scaled physical model.}
    \label{fig:RM2-drawing}
\end{figure}